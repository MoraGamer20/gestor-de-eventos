<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Asientos de Evento</title>
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
    <!-- Barra superior institucional -->
    <div class="navbar">
        <div class="logo-titulo">
            <img src="assets/images/escudo-uat.png" alt="Escudo UAT" />
            <div>
                <div class="titulo">Gestor de Asientos de Evento</div>
                <div class="subtitulo">Universidad Autónoma de Tamaulipas</div>
            </div>
        </div>
        <div class="menu">
            <a href="index.html">Inicio</a>
            <a href="index.html#eventos">Eventos</a>
            <a href="index.html#reportes">Reportes</a>
            <a href="index.html#ayuda">Ayuda</a>
            <button class="btn-nuevo-evento" id="create-event-btn">
                <span style="font-size:1.2em;">&#128197;</span> Nuevo Evento
            </button>
        </div>
    </div>

    <div class="main-content">
        <!-- Pantalla principal -->
        <div id="home-screen">
            <header>
                <h1>Gestor de Asistencias a Eventos</h1>
            </header>

            <div class="filter-bar">
                <button class="filter-btn active" id="filter-all">Todos</button>
                <button class="filter-btn" id="filter-active">Activos</button>
                <button class="filter-btn" id="filter-inactive">Inactivos</button>
                <button class="filter-btn" id="filter-finished">Finalizados</button>
            </div>

            <div class="card-grid" id="events-container">
                <!-- El contenido de eventos se cargará dinámicamente -->
            </div>
        </div>

        <!-- Pantalla de detalle de evento -->
        <div id="detail-screen" style="display: none;">
            <div class="detail-container">
                <div class="detail-header">
                    <button class="btn btn-secondary" id="back-btn">
                        <span class="btn-icon">←</span>
                        Volver
                    </button>
                    <h2 class="detail-title" id="event-title">Título del Evento</h2>
                    <button class="btn" id="add-attendee-btn">
                        <span class="btn-icon">+</span>
                        Registrar Asistente
                    </button>
                </div>

                <table class="attendees-table">
                    <thead>
                        <tr>
                            <th>Nombre completo</th>
                            <th>Correo electrónico</th>
                            <th>Teléfono</th>
                            <th>Asiento asignado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="attendees-list">
                        <!-- Los asistentes se cargarán dinámicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Modal para crear/editar evento -->
        <iframe id="event-modal" class="modal" src="components/modals/event-form.html"></iframe>

        <!-- Modal para crear/editar asistente -->
        <div class="modal" id="attendee-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="attendee-modal-title">Registrar Asistente</h3>
                    <button class="close-modal" id="close-attendee-modal">&times;</button>
                </div>
                <form id="attendee-form">
                    <input type="hidden" id="attendee-id">
                    <div class="form-group">
                        <label for="fullname">Nombre completo *</label>
                        <input type="text" id="fullname" required>
                        <p class="error-message" id="fullname-error">Este campo es obligatorio</p>
                    </div>
                    <div class="form-group">
                        <label for="email">Correo electrónico *</label>
                        <input type="email" id="email" required>
                        <p class="error-message" id="email-error">Introduce un correo electrónico válido</p>
                    </div>
                    <div class="form-group">
                        <label for="phone">Número de teléfono (opcional)</label>
                        <input type="tel" id="phone">
                    </div>
                    <div class="form-group">
                        <label for="seat">Asiento asignado *</label>
                        <input type="text" id="seat" placeholder="Ej: Fila A - Asiento 5" required>
                        <p class="error-message" id="seat-error">Este campo es obligatorio</p>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-attendee-btn">Cancelar</button>
                        <button type="submit" class="btn" id="save-attendee-btn">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Pie de página institucional -->
    <footer class="footer">
        <div class="footer-container">
            <div>
                <h3>Gestor de Asientos de Evento</h3>
                <p>
                    Sistema de gestión de eventos y asistentes desarrollado<br>
                    para la Universidad Autónoma de Tamaulipas.
                </p>
            </div>
            <div>
                <h3>Enlaces Rápidos</h3>
                <ul>
                    <li><a href="#">Política de Privacidad</a></li>
                    <li><a href="#">Términos de Uso</a></li>
                    <li><a href="#">Soporte Técnico</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </div>
            <div>
                <h3>Contacto</h3>
                <ul>
                    <li>Universidad Autónoma de Tamaulipas</li>
                    <li>Centro Universitario Victoria</li>
                    <li>Ciudad Victoria, Tamaulipas, México</li>
                    <li>CP 87000</li>
                    <li>Tel: (834) 318 1800</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            &copy; 2024 Universidad Autónoma de Tamaulipas. Todos los derechos reservados.
        </div>
    </footer>

    <script src="assets/js/services/event-storage.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>
